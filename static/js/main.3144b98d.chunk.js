(this["webpackJsonpreact-recipe-search-api"]=this["webpackJsonpreact-recipe-search-api"]||[]).push([[0],{18:function(e,n,r){},19:function(e,n,r){},20:function(e,n,r){},26:function(e,n,r){"use strict";r.r(n);var t=r(2),a=r.n(t),c=r(11),i=r.n(c),s=(r(18),r(19),r(20),r(7)),o=r.n(s),l=r(12),h=r(3),d=r(8),p=r(1),u=r(13),m=r(0);var j=function(e){var n=[];for(var r in e.items)e.items.hasOwnProperty(r)&&n.push(Object(m.jsxs)("div",{className:"form-check float-left",children:[Object(m.jsx)("input",{type:"checkbox",className:"form-check-input",value:r,id:r+e.name,name:e.name,onChange:e.onChange}),Object(m.jsx)("label",{className:"form-check-label chkLabel",htmlFor:r+e.name,children:e.items[r]})]},r));return Object(m.jsx)("div",{className:"float-left clearfix checkbox-group",children:n})},b=r(9);var f=function(e){return Object(m.jsx)("div",{className:"justify-content-center mt-3",children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"col form-group",children:[Object(m.jsx)("h3",{children:"Find something to cook"}),Object(m.jsx)("input",{type:"text",name:"search",className:"form-control",placeholder:"e.g salad, soup",onBlur:e.handleInputChange})]}),Object(m.jsxs)("div",{className:"row float-left",children:[Object(m.jsx)("h6",{className:"mr-3",children:"Filters:"}),Object(m.jsxs)("div",{className:"border mr-3 p-1",children:[Object(m.jsx)("p",{className:"filterLbl",children:"Cusine:"}),Object(m.jsx)(j,{items:b.cuisineType,name:"cuisineType[]",onChange:e.handleInputChange})]}),Object(m.jsxs)("div",{className:"border mr-3 p-1",children:[Object(m.jsx)("p",{className:"filterLbl",children:"Meal:"}),Object(m.jsx)(j,{items:b.mealType,name:"mealType[]",onChange:e.handleInputChange})]}),Object(m.jsxs)("div",{className:"border mr-3 p-1",children:[Object(m.jsx)("p",{className:"filterLbl",children:"Dish:"}),Object(m.jsx)(j,{items:b.dishType,name:"dishType[]",onChange:e.handleInputChange})]}),Object(m.jsxs)("div",{className:"border w-health mr-3 p-1",children:[Object(m.jsx)("p",{className:"filterLbl",children:"Health:"}),Object(m.jsx)(j,{items:b.health,name:"health[]",onChange:e.handleInputChange})]}),Object(m.jsxs)("div",{className:"border mr-3 p-1",children:[Object(m.jsx)("p",{className:"filterLbl",children:"Diet:"}),Object(m.jsx)(j,{items:b.diet,name:"diet[]",onChange:e.handleInputChange})]})]}),Object(m.jsx)("div",{className:"row float-left mt-3",children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("label",{className:"col-form-label mr-1",children:"Calorie"}),Object(m.jsx)("input",{type:"number",className:"form-control",placeholder:"Start",min:"1",name:"calorieTo",onChange:e.handleInputChange}),Object(m.jsx)("span",{className:"input-group-addon",children:"-"}),Object(m.jsx)("input",{type:"number",className:"form-control",placeholder:"End",min:"1",name:"calorieFrom",onChange:e.handleInputChange}),Object(m.jsx)("label",{className:"col-form-label ml-1 mr-1",children:"Cooking Time"}),Object(m.jsx)("input",{type:"number",className:"form-control",placeholder:"Start",min:"1",name:"timeTo",onChange:e.handleInputChange}),Object(m.jsx)("span",{className:"input-group-addon",children:"-"}),Object(m.jsx)("input",{type:"number",className:"form-control",placeholder:"End",min:"1",name:"timeFrom",onChange:e.handleInputChange}),Object(m.jsx)("input",{className:"btn btn-primary ml-3",type:"button",value:"Search",onClick:e.handleSearch})]})})]})})};var O=function(e){var n=function(e){for(var n=[],r=0;r<e.length;r+=5){var t=e.slice(r,r+5);n.push(t)}return n}(e.response.hits);return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"clearfix"}),n.map((function(e,n){return Object(m.jsx)("div",{className:"row mt-4",children:e.map((function(e,n){var r=new URL(e.recipe.url);return Object(m.jsxs)("div",{className:"border p-2 recipe-box mr-2",children:[Object(m.jsx)("span",{children:Object(m.jsx)("img",{alt:e.recipe.label,src:e.recipe.image,height:"200",width:"200"})}),Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:e.recipe.shareAs,rel:"noreferrer",target:"_blank",children:e.recipe.label})}),Object(m.jsxs)("p",{className:"cal-info p-2",children:[Math.round(e.recipe.calories)," Calories | ",e.recipe.ingredients.length," Ingredients"]}),Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:e.recipe.url,rel:"noreferrer",target:"_blank",children:r.hostname})})]},"recipe".concat(n))}))},"row".concat(n))}))]})};var g=function(e){var n=null;return e.error.length>0?n=Object(m.jsx)("div",{className:"alert alert-danger",children:e.error}):e.search.length>0&&e.response.hasOwnProperty(e.search)&&(n=e.response[e.search].count>0?Object(m.jsx)(O,{response:e.response[e.search]}):Object(m.jsx)("div",{className:"alert alert-warning",children:"No recipe found."})),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"clearfix"}),Object(m.jsx)("div",{className:"justify-content-center mt-3",children:n})]})};r(23).config();var x,v=r(9),y="https://api.edamam.com/search",N="",w=[];var C=function(){var e=Object(t.useState)({search:"",calorieTo:"",calorieFrom:"",timeTo:"",timeFrom:"",cuisineType:[],mealType:[],dishType:[],health:[],diet:[],response:{},error:""}),n=Object(u.a)(e,2),r=n[0],a=n[1];function c(){function e(e,n){if(e.length>0)for(var r=0;r<e.length;r++)x+="&"+n+"="+e[r].toLowerCase()}x="?q="+r.search,e(r.cuisineType,"cuisineType"),e(r.mealType,"mealType"),e(r.dishType,"dishType"),e(r.health,"health"),e(r.diet,"diet"),r.calorieTo>0&&r.calorieFrom>0&&(x+="&calories="+r.calorieTo+"-"+r.calorieFrom),r.timeTo>0&&r.timeFrom>0&&(x+="&time="+r.timeTo+"-"+r.timeFrom),N=btoa(x),x+="&app_id=280089ec&app_key=1552fcd9d91fa89bcae67ef051b573da"}function i(){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+x,{"Cross-Origin -Embedder-Policy":"require-corp","Cross-Origin-Opener-Policy":"same-origin","Accept-Encoding":"gzip"}).then((function(e){return e.json()}),(function(e){return a((function(n){return Object(p.a)(Object(p.a)({},n),{},{error:"Error: "+e})}))})).then((function(e){if(w=r.response,Object.keys(w).length>=5){var n=Object.keys(w)[0];delete w[n]}w[N]=e,a((function(e){return Object(p.a)(Object(p.a)({},e),{},{response:w})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(t.useEffect)((function(){return r.search.length>0&&(document.title="Recipe - "+r.search),c(),r.search.length>0&&!r.response.hasOwnProperty(N)&&i(),function(){return!1}})),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(f,{handleInputChange:function(e){var n=e.target,t=n.name,i=n.value;if("checkbox"===e.target.type){var s=t.replace(/[[\]']+/g,"");if(-1!==["cuisineType[]","mealType[]","dishType[]"].indexOf(t)&&(i=v[s][i]),e.target.checked)r[s].push(i),a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},s,Object(d.a)(r[s])))}));else{var o=r[s].indexOf(i);-1!==o&&(r[s].splice(o,1),a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},s,Object(d.a)(r[s])))})))}}else a((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(h.a)({},t,i))}));c()},handleSearch:function(){r.response.hasOwnProperty(N)||i()}}),Object(m.jsx)(g,{response:r.response,error:r.error,search:N})]})};var T=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("header",{className:"App-header",children:"Recipe Search"}),Object(m.jsx)(C,{})]})},k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,27)).then((function(n){var r=n.getCLS,t=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;r(e),t(e),a(e),c(e),i(e)}))},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),k(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");F?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var t=r.headers.get("content-type");404===r.status||null!=t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(n,e)}))}}()},9:function(e){e.exports=JSON.parse('{"cuisineType":["American","Asian","British","Chinese"],"mealType":["Breakfast","Lunch","Dinner","Snack","Teatime"],"dishType":["Salad","Bread","Cereals","Drinks","Main course","Desserts"],"health":{"alcohol-free":"Alcohol-free","immuno-supportive":"Immune-Supportive","celery-free":"Celery-free","dairy-free":"Dairy","keto-friendly":"Keto","low-sugar":"No-sugar"},"diet":{"balanced":"Balanced","high-fiber":"High-Fiber","high-protein":"High-Protein","low-fat":"Low-Fat"}}')}},[[26,1,2]]]);
//# sourceMappingURL=main.3144b98d.chunk.js.map